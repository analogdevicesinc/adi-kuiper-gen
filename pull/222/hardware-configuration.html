<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta content="Configure Kuiper images for ADI evaluation boards and Raspberry Pi platforms with automated tools and manual options for flexible deployment" name="description" />

    <title>Hardware Configuration &#8212; Kuiper  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=8e8a900e" />
    <link rel="stylesheet" type="text/css" href="_static/app.min.css?v=31a9e0ba" />
    <script async="async" src="_static/app.umd.js?v=3a4867e9"></script>
    <link rel="icon" href="_static/icon.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Configuration" href="configuration.html" />
    <link rel="prev" title="Using Kuiper Images" href="use-kuiper-image.html" />
   
  
  
  <meta name="repository" content="adi-kuiper-gen">
  <meta name="version" content="latest">
  
    <meta name="page_source_suffix" content=".rst">
  
  
  


<style>
  body {
    
  }

  body.dark {
    
  }

  @media (prefers-color-scheme: dark) {
    body:not(.light) {
      
    }
  }
</style>
  </head>
  
    <body>
  
  <input type="checkbox" id="input-show-toc">
  <input type="checkbox" id="input-show-localtoc">
  <input type="checkbox" id="input-show-repotoc">

  
  <div class="search-area">
    <form action="" method="get">
      <input type="text" name="q" aria-labelledby="search-documentation" value="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="search" placeholder="Search"/>
      <button class="icon"></button>
    </form>
  </div>
  

  <header>
    <div id="left">
      <label id="show-sidebar" class="icon" for="input-show-toc" title="Show/hide index"></label>
    </div>
    <div id="right">
      <span>
        <a id="logo-org" href="https://analog.com" aria-label="Analog Devices Inc. landing page"></a>
        <div class="vertical-divider"></div>
        
        <label id="show-repotoc" for="input-show-repotoc" title="Show/hide docs" tabindex="0">Docs</label>
        
        <a id="logo" href="index.html">
          <div>Kuiper</div>
        </a>
      </span>
      <span class="reverse">
        <label id="show-localtoc" class="icon" for="input-show-localtoc" title="Show/hide contents"></label>
      </span>
    </div>
  </header>


  <div class="repotoc-tree overlay">
    <root>
  <a href="./index.html" class="current">Kuiper</a>
</root>

  </div>
    <div class="localtoc">
      <div class="tocwrapper">
        <div class="header localtoc-header">
          <a id="scroll-up" href="#top-anchor" title="Back to top"></a>
        </div>
        <nav>
          <ul>
<li><a class="reference internal" href="#">Hardware Configuration</a><ul>
<li><a class="reference internal" href="#adi-evaluation-boards">ADI Evaluation Boards</a><ul>
<li><a class="reference internal" href="#configuration-methods">Configuration Methods</a></li>
<li><a class="reference internal" href="#automated-configuration">Automated Configuration</a><ul>
<li><a class="reference internal" href="#discovering-available-hardware">Discovering Available Hardware</a></li>
<li><a class="reference internal" href="#on-device-configuration">On-Device Configuration</a></li>
<li><a class="reference internal" href="#pc-based-configuration">PC-Based Configuration</a></li>
<li><a class="reference internal" href="#what-happens-during-configuration">What Happens During Configuration</a></li>
<li><a class="reference internal" href="#configuration-examples">Configuration Examples</a></li>
</ul>
</li>
<li><a class="reference internal" href="#common-workflows">Common Workflows</a></li>
<li><a class="reference internal" href="#manual-configuration-advanced">Manual Configuration (Advanced)</a><ul>
<li><a class="reference internal" href="#understanding-the-configuration-process">Understanding the Configuration Process</a></li>
<li><a class="reference internal" href="#platform-specific-manual-steps">Platform-Specific Manual Steps</a><ul>
<li><a class="reference internal" href="#amd-xilinx-platforms">AMD/Xilinx Platforms</a></li>
<li><a class="reference internal" href="#intel-altera-platforms">Intel/Altera Platforms</a></li>
<li><a class="reference internal" href="#finding-the-bootloader-partition">Finding the Bootloader Partition</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#raspberry-pi">Raspberry Pi</a><ul>
<li><a class="reference internal" href="#device-tree-overlays">Device Tree Overlays</a><ul>
<li><a class="reference internal" href="#method-1-persistent-configuration">Method 1: Persistent Configuration</a></li>
<li><a class="reference internal" href="#method-2-dynamic-loading">Method 2: Dynamic Loading</a></li>
</ul>
</li>
<li><a class="reference internal" href="#available-overlays">Available Overlays</a></li>
<li><a class="reference internal" href="#device-tree-manipulation-utility">Device tree manipulation utility</a></li>
<li><a class="reference internal" href="#common-overlay-use-cases">Common Overlay Use Cases</a></li>
<li><a class="reference internal" href="#removing-overlays">Removing Overlays</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </nav>
      </div>
    </div>

  
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
    <a id="logo" href="index.html">
      <img class="only-light" src="_static/logo_light.png"/>
      <img class="only-dark" src="_static/logo_dark.png"/>
    </a><input id="input-switch-toc" type="checkbox">
<label id="show-repotoc" for="input-switch-toc">
All content
</label>
<label id="show-toc" for="input-switch-toc">
Content on this topic
</label>
<div class="repotoc-tree">
  <root>
  <a href="./index.html" class="current">Kuiper</a>
</root>

</div>
<div class="toc-tree">
  <html>
  <body><p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="prerequisites.html">Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick-start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="use-kuiper-image.html">Using Kuiper Images</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Hardware Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuration &amp; Building</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="kuiper-versions.html">Kuiper Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="build-flow.html">Build Flow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Topics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="stage-reference.html">Stage Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="customization.html">Custom Script Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="repositories.html">Repositories</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>
</body>
</html>

</div>
        </div>
      </div>

  <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper" id="top-anchor">
          <div class="body-header">
  <nav class="breadcrumb empty"><ol></ol></nav>
</div>
          <div class="body" role="main">
            
  <section id="hardware-configuration">
<span id="id1"></span><h1>Hardware Configuration<a class="headerlink" href="#hardware-configuration" title="Link to this heading"></a></h1>
<p>Kuiper supports multiple hardware platforms, each with different setup
requirements:</p>
<dl class="simple">
<dt><strong>ADI Evaluation Boards</strong></dt><dd><p>Require configuration to specify which evaluation board and carrier board
combination youâ€™re using. This can be done during the build process or
after deployment. Check out the <a class="reference internal" href="#hardware-configuration-adi-eval-boards"><span class="std std-ref">ADI Evaluation Boards</span></a>
dedicated section.</p>
</dd>
<dt><strong>Raspberry Pi</strong></dt><dd><p>Works immediately after flashing with no configuration required. This
section documents optional customizations like device tree overlays. Check
out the <a class="reference internal" href="#hardware-configuration-raspberry-pi"><span class="std std-ref">Raspberry Pi</span></a> dedicated section.</p>
</dd>
</dl>
<hr class="docutils" />
<section id="adi-evaluation-boards">
<span id="hardware-configuration-adi-eval-boards"></span><h2>ADI Evaluation Boards<a class="headerlink" href="#adi-evaluation-boards" title="Link to this heading"></a></h2>
<p>ADI evaluation boards require configuration to work with Kuiper images.
You must specify both your evaluation board (e.g., AD9361-FMCOMMS2) and
carrier board (e.g., ZedBoard, ZC706) so the system can load the
correct boot files.</p>
<section id="configuration-methods">
<h3>Configuration Methods<a class="headerlink" href="#configuration-methods" title="Link to this heading"></a></h3>
<p>Kuiper provides three configuration approaches:</p>
<dl class="simple">
<dt><strong>Build-Time Configuration</strong></dt><dd><p>Set <code class="docutils literal notranslate"><span class="pre">ADI_EVAL_BOARD</span></code> and <code class="docutils literal notranslate"><span class="pre">CARRIER</span></code> parameters in your config file
before building. Your image will be pre-configured for that hardware
combination.</p>
</dd>
<dt><strong>On-Device Configuration</strong></dt><dd><p>Use the <code class="docutils literal notranslate"><span class="pre">configure-setup.sh</span></code> script on your running Kuiper system
to configure or switch between different hardware combinations.</p>
</dd>
<dt><strong>PC-Based Configuration</strong></dt><dd><p>Use the <code class="docutils literal notranslate"><span class="pre">configure-setup.sh</span></code> script from your PC to prepare SD cards
before deployment. Ideal for batch preparation or when the target device
isnâ€™t accessible.</p>
</dd>
</dl>
</section>
<section id="automated-configuration">
<h3>Automated Configuration<a class="headerlink" href="#automated-configuration" title="Link to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">configure-setup.sh</span></code> script is the recommended method for configuring
your Kuiper image. The script handles all technical details automatically,
including copying files, updating configurations, and writing bootloaders
for Intel platforms.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For PC users: The script is located at <code class="docutils literal notranslate"><span class="pre">/usr/local/bin/configure-setup.sh</span></code>
on your Kuiper image. Access it by mounting the SD cardâ€™s rootfs partition,
or download it from <a class="icon git reference external" href="https://github.com/analogdevicesinc/adi-kuiper-gen/blob/main/stages/08.export-stage/04.export-image/files/configure-setup.sh" target="_blank">here</a>.</p>
</div>
<section id="discovering-available-hardware">
<h4>Discovering Available Hardware<a class="headerlink" href="#discovering-available-hardware" title="Link to this heading"></a></h4>
<p>Before configuring, check which hardware combinations your Kuiper image
supports.</p>
<p>On device:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>--help
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>From PC with mounted SD card:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>--boot-partition<span class="w"> </span>/media/<span class="nv">$USER</span>/BOOT<span class="w"> </span>--help
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Example output:</p>
<div class="code-shell"><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Usage:
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span> sudo configure-setup.sh [OPTIONS] &lt;eval-board&gt; &lt;carrier&gt; [bootloader-dev]
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Description:
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span> Script that prepares Kuiper image to boot on a carrier board.
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Arguments:
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span> eval-board            Name of the project
 carrier               Carrier board name
 bootloader-dev        Bootloader device (default: /dev/mmcblk0p3)
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Options:
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span> -b, --boot-partition PATH     Path to boot partition (default: /boot)
 -h, --help                    Show this help message
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Note: Options must be specified before positional arguments.
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Examples:
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span> # Running directly on the board:
 sudo configure-setup.sh ad4003 zed
 sudo configure-setup.sh --help

 # Configuring SD card from PC:
 sudo configure-setup.sh -b /media/$USER/BOOT ad4003 zed
 sudo configure-setup.sh -b /media/$USER/BOOT --help
 sudo configure-setup.sh -b /media/$USER/BOOT &lt;intel-project&gt; &lt;intel-carrier&gt; /dev/sdb3
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Available projects in your Kuiper image:
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>ADI Eval Board    Carrier
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>ad9361-fmcomms2   zed
ad9361-fmcomms2   zc706
ad4003            zed
adrv9009-zu11eg   adrv9009-zu11eg-revb
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>This output shows all evaluation board and carrier board combinations that
your specific Kuiper image supports.</p>
</section>
<section id="on-device-configuration">
<h4>On-Device Configuration<a class="headerlink" href="#on-device-configuration" title="Link to this heading"></a></h4>
<p>Configure your hardware directly on a running Kuiper system. The <code class="docutils literal notranslate"><span class="pre">analog</span></code>
user has sudo privileges.</p>
<p>Follow these steps:</p>
<ol class="arabic">
<li><p><strong>Log into your Kuiper system</strong> via console, SSH, or VNC.</p></li>
<li><p><strong>Check available configurations</strong> (if you havenâ€™t already):</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>--help
</pre></div>
</div>
<div class="clear-left"></div></div></div></li>
<li><p><strong>Run the configuration command</strong>:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>&lt;eval-board&gt;<span class="w"> </span>&lt;carrier&gt;
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>For example, to configure for AD9361-FMCOMMS2 on ZedBoard:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>ad9361-fmcomms2<span class="w"> </span>zed
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Successfully prepared boot partition for running project ad9361-fmcomms2 on zed.
</pre></div>
</div>
<div class="clear-left"></div></div></div></li>
<li><p><strong>Reboot or shutdown</strong>:</p>
<p><strong>If staying on the same carrier board</strong> (just switching evaluation boards):</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>reboot
</pre></div>
</div>
<div class="clear-left"></div></div></div><p><strong>If moving SD card to a different carrier board</strong>:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>shutdown<span class="w"> </span>-h<span class="w"> </span>now
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Then remove the SD card, insert it into the new carrier board, and power on.</p>
</li>
</ol>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><strong>Why different shutdown procedures?</strong></p>
<ul class="simple">
<li><p><strong>Reboot</strong> is safe and fast when the SD card stays in the same hardware</p></li>
<li><p><strong>Shutdown</strong> ensures all pending writes complete before physically moving
the card between devices, preventing potential corruption</p></li>
<li><p>Configuration changes take effect only after a complete boot cycle</p></li>
</ul>
</div>
</section>
<section id="pc-based-configuration">
<h4>PC-Based Configuration<a class="headerlink" href="#pc-based-configuration" title="Link to this heading"></a></h4>
<p>Configure SD cards from your PC before deploying to hardware.</p>
<ol class="arabic">
<li><p><strong>Insert SD card into your PC</strong> and identify the boot partition mount
point (typically <code class="docutils literal notranslate"><span class="pre">/media/$USER/BOOT</span></code>).</p></li>
<li><p><strong>Check available configurations</strong>:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>--boot-partition<span class="w"> </span>/media/<span class="nv">$USER</span>/BOOT<span class="w"> </span>--help
</pre></div>
</div>
<div class="clear-left"></div></div></div></li>
<li><p><strong>Configure for your target hardware</strong>:</p>
<p>For AMD/Xilinx platforms (Zynq, ZynqMP, Versal):</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>--boot-partition<span class="w"> </span>/media/<span class="nv">$USER</span>/BOOT<span class="w"> </span>&lt;eval-board&gt;<span class="w"> </span>&lt;carrier&gt;
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Example:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>-b<span class="w"> </span>/media/<span class="nv">$USER</span>/BOOT<span class="w"> </span>ad9361-fmcomms2<span class="w"> </span>zed
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Successfully prepared boot partition for running project ad9361-fmcomms2 on zed.
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>For Intel platforms (Arria10, Cyclone5) - you must specify the bootloader device:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>-b<span class="w"> </span>/media/<span class="nv">$USER</span>/BOOT<span class="w"> </span>&lt;eval-board&gt;<span class="w"> </span>&lt;carrier&gt;<span class="w"> </span>/dev/sdb3
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Example:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>-b<span class="w"> </span>/media/<span class="nv">$USER</span>/BOOT<span class="w"> </span>de10-nano<span class="w"> </span>socdk<span class="w"> </span>/dev/sdb3
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Successfully prepared boot partition for running project de10-nano on socdk.
</pre></div>
</div>
<div class="clear-left"></div></div></div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Intel platforms require writing a preloader to a dedicated bootloader
partition. When configuring from a PC, identify the correct device:</p>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">lsblk</span></code> to find your SD card (typically <code class="docutils literal notranslate"><span class="pre">/dev/sdb</span></code> or <code class="docutils literal notranslate"><span class="pre">/dev/sdc</span></code>)</p></li>
<li><p>The bootloader partition is the small 4MB partition (e.g., <code class="docutils literal notranslate"><span class="pre">/dev/sdb3</span></code>)</p></li>
<li><p>On the device itself, this is always <code class="docutils literal notranslate"><span class="pre">/dev/mmcblk0p3</span></code> (the default)</p></li>
<li><p>AMD/Xilinx platforms donâ€™t need this parameter</p></li>
</ul>
</div>
</li>
<li><p><strong>Safely eject the SD card</strong> from your PC.</p></li>
<li><p><strong>Insert into target hardware</strong> and power on.</p></li>
</ol>
</section>
<section id="what-happens-during-configuration">
<h4>What Happens During Configuration<a class="headerlink" href="#what-happens-during-configuration" title="Link to this heading"></a></h4>
<p>When you run the configuration script, it performs these operations:</p>
<ol class="arabic simple">
<li><p><strong>Identifies required files</strong> for your specific evaluation board and
carrier board combination</p></li>
<li><p><strong>Copies boot files</strong> to the boot partition, including:</p>
<ul class="simple">
<li><p>Kernel image (Image, uImage, or zImage depending on platform)</p></li>
<li><p>Device tree files</p></li>
<li><p>Platform-specific files (BOOT.BIN, boot.scr, U-Boot configurations)</p></li>
</ul>
</li>
<li><p><strong>For Intel platforms only</strong>, performs additional steps:</p>
<ul class="simple">
<li><p>Creates the <code class="docutils literal notranslate"><span class="pre">extlinux/</span></code> directory structure</p></li>
<li><p>Writes the preloader to the bootloader partition</p></li>
</ul>
</li>
<li><p><strong>Verifies each operation</strong> and reports success or failure</p></li>
</ol>
</section>
<section id="configuration-examples">
<h4>Configuration Examples<a class="headerlink" href="#configuration-examples" title="Link to this heading"></a></h4>
<p><strong>Switching Evaluation Boards on Same Carrier</strong></p>
<p>Testing different evaluation boards on the same carrier board:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>ad4003<span class="w"> </span>zed
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Successfully prepared boot partition for running project ad4003 on zed.
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>reboot
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Later, switch to a different evaluation board:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>ad9361-fmcomms2<span class="w"> </span>zed
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Successfully prepared boot partition for running project ad9361-fmcomms2 on zed.
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>reboot
</pre></div>
</div>
<div class="clear-left"></div></div></div><p><strong>Moving Between Different Carrier Boards</strong></p>
<p>When switching to a different carrier board:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>ad9361-fmcomms2<span class="w"> </span>zed
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Successfully prepared boot partition for running project ad9361-fmcomms2 on zed.
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>shutdown<span class="w"> </span>-h<span class="w"> </span>now
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>After shutdown, remove the SD card from ZedBoard, insert it into ZC706, then
power on.</p>
<p><strong>Preparing Multiple SD Cards from PC</strong></p>
<p>Configure several SD cards for different hardware without booting devices:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Insert first SD card</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>-b<span class="w"> </span>/media/<span class="nv">$USER</span>/BOOT<span class="w"> </span>ad9361-fmcomms2<span class="w"> </span>zed
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Successfully prepared boot partition for running project ad9361-fmcomms2 on zed.
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Eject, insert second SD card</span>
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>configure-setup.sh<span class="w"> </span>-b<span class="w"> </span>/media/<span class="nv">$USER</span>/BOOT<span class="w"> </span>ad4003<span class="w"> </span>zc706
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>Successfully prepared boot partition for running project ad4003 on zc706.
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Each SD card is now ready for immediate deployment.</p>
</section>
</section>
<section id="common-workflows">
<h3>Common Workflows<a class="headerlink" href="#common-workflows" title="Link to this heading"></a></h3>
<dl class="simple">
<dt><strong>Single Hardware Target</strong></dt><dd><p>Set <code class="docutils literal notranslate"><span class="pre">ADI_EVAL_BOARD</span></code> and <code class="docutils literal notranslate"><span class="pre">CARRIER</span></code> during build for automatic
configuration. Your image boots ready to use.</p>
</dd>
<dt><strong>Multi-Hardware Development</strong></dt><dd><p>Build with your primary hardware configured, then use on-device
configuration to test other combinations as needed.</p>
</dd>
<dt><strong>Lab/Evaluation Setup</strong></dt><dd><p>Build without specifying hardware, then configure each SD card for
specific hardware using PC-based configuration.</p>
</dd>
<dt><strong>Production Deployment</strong></dt><dd><p>Use PC-based configuration to prepare multiple SD cards efficiently
without booting each target device.</p>
</dd>
</dl>
</section>
<section id="manual-configuration-advanced">
<h3>Manual Configuration (Advanced)<a class="headerlink" href="#manual-configuration-advanced" title="Link to this heading"></a></h3>
<p>Manual configuration may be necessary when:</p>
<ul class="simple">
<li><p>The automated script fails or reports errors</p></li>
<li><p>You need custom modifications beyond standard configurations</p></li>
<li><p>Your Kuiper system isnâ€™t functioning and the script is unavailable</p></li>
<li><p>Youâ€™re troubleshooting boot issues and need to understand the process</p></li>
</ul>
<p>The manual process involves the same file operations that the automated
script performs, but gives you direct control over each step.</p>
<section id="understanding-the-configuration-process">
<h4>Understanding the Configuration Process<a class="headerlink" href="#understanding-the-configuration-process" title="Link to this heading"></a></h4>
<p>The automated script performs these technical steps:</p>
<ol class="arabic simple">
<li><p><strong>Searches</strong> the boot partition for configuration metadata about
available hardware combinations</p></li>
<li><p><strong>Identifies</strong> which files are needed for your specific evaluation
board and carrier board</p></li>
<li><p><strong>Copies</strong> all required files to the boot partition</p></li>
<li><p><strong>For Intel platforms</strong>, creates directory structures and writes
bootloader files to the dedicated bootloader partition using low-level
disk operations</p></li>
<li><p><strong>Validates</strong> that each file operation completed successfully</p></li>
</ol>
<p>Understanding these steps helps when performing manual configuration or
troubleshooting failures.</p>
</section>
<section id="platform-specific-manual-steps">
<h4>Platform-Specific Manual Steps<a class="headerlink" href="#platform-specific-manual-steps" title="Link to this heading"></a></h4>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Manual configuration requires working with the SD cardâ€™s boot
partition. Always ensure the SD card is properly unmounted from your
target hardware before modifying files on a host PC.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If required boot files are missing from your Kuiper image, install
them using the ADI package repository. See the <a class="reference internal" href="repositories.html"><span class="doc">Repositories</span></a> section for detailed instructions.</p>
</div>
<section id="amd-xilinx-platforms">
<h5>AMD/Xilinx Platforms<a class="headerlink" href="#amd-xilinx-platforms" title="Link to this heading"></a></h5>
<p><strong>For Zynq projects</strong> (ZedBoard, ZC702, ZC706), copy these files to the
root of the BOOT FAT32 partition:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/BOOT.BIN</span></code> - First stage bootloader with FPGA bitstream</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/&lt;specific_folder&gt;/devicetree.dtb</span></code> - Device tree for your
specific project</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zynq-common/uImage</span></code> - Kernel image for Zynq platforms</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zynq-common/uEnv.txt</span></code> - U-Boot environment configuration</p></li>
</ol>
<p><strong>For ZynqMP projects</strong> (ZCU102, ADRV9009-ZU11EG), copy these files to
the root of the BOOT FAT32 partition:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/BOOT.BIN</span></code> - First stage bootloader with FPGA bitstream</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/&lt;specific_folder&gt;/system.dtb</span></code> - Device tree for your
specific project</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zynqmp-common/Image</span></code> - Kernel image for ZynqMP platforms</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zynqmp-common/uEnv.txt</span></code> - U-Boot environment configuration</p></li>
</ol>
<p><strong>For Versal projects</strong> (VCK190, VPK180, VHK158), copy these files to the root
of the BOOT FAT32 partition:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/BOOT.BIN</span></code> - Platform Loader and Manager (PLM) and boot
components</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/&lt;specific_folder&gt;/system.dtb</span></code> - Device tree for your
specific project</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/boot.scr</span></code> - U-Boot script for Versal boot sequence</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">versal-common/Image</span></code> - Kernel image for Versal platforms</p></li>
</ol>
</section>
<section id="intel-altera-platforms">
<h5>Intel/Altera Platforms<a class="headerlink" href="#intel-altera-platforms" title="Link to this heading"></a></h5>
<p>Intel platforms require additional steps beyond copying files to the boot
partition. You must also write preloader files to a dedicated bootloader
partition.</p>
<p><strong>For Arria10 SoC projects</strong>, copy these files to the root of the BOOT
FAT32 partition:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/fit_spl_fpga.itb</span></code> - FPGA configuration and SPL image</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/socfpga_arria10_socdk_sdmmc.dtb</span></code> - Device tree</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/u-boot.img</span></code> - U-Boot proper</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">socfpga_arria10_common/zImage</span></code> - Kernel image</p></li>
<li><p>Create an <code class="docutils literal notranslate"><span class="pre">extlinux</span></code> folder and copy
<code class="docutils literal notranslate"><span class="pre">socfpga_arria10_common/extlinux.conf</span></code> into it</p></li>
</ol>
<p>Then write the preloader:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>&lt;target&gt;/fit_spl_fpga.itb<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/mmcblk0p3<span class="w"> </span><span class="nv">bs</span><span class="o">=</span><span class="m">512</span><span class="w"> </span><span class="nv">status</span><span class="o">=</span>progress
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Replace <code class="docutils literal notranslate"><span class="pre">mmcblk0p3</span></code> with your actual bootloader partition device.</p>
<p><strong>For Cyclone5 projects</strong> (DE10-Nano, Cyclone V SoC Kit), copy these
files to the root of the BOOT FAT32 partition:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/soc_system.rbf</span></code> - FPGA bitstream</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/socfpga.dtb</span></code> - Device tree</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/u-boot.scr</span></code> - U-Boot script</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;target&gt;/u-boot-with-spl.sfp</span></code> - SPL and U-Boot combined</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">socfpga_cyclone5_common/zImage</span></code> - Kernel image</p></li>
<li><p>Create an <code class="docutils literal notranslate"><span class="pre">extlinux</span></code> folder and copy
<code class="docutils literal notranslate"><span class="pre">socfpga_cyclone5_common/extlinux.conf</span></code> into it</p></li>
</ol>
<p>Then write the preloader:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>&lt;target&gt;/u-boot-with-spl.sfp<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/dev/mmcblk0p3<span class="w"> </span><span class="nv">bs</span><span class="o">=</span><span class="m">512</span><span class="w"> </span><span class="nv">status</span><span class="o">=</span>progress
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Replace <code class="docutils literal notranslate"><span class="pre">mmcblk0p3</span></code> with your actual bootloader partition device.</p>
</section>
<section id="finding-the-bootloader-partition">
<h5>Finding the Bootloader Partition<a class="headerlink" href="#finding-the-bootloader-partition" title="Link to this heading"></a></h5>
<p>For Intel platforms, identify the correct partition for the preloader.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lsblk
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Example output on PC:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lsblk
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sdb      8:16   1  29.7G  0 disk
â”œâ”€sdb1   8:17   1   256M  0 part /media/user/BOOT
â”œâ”€sdb2   8:18   1  29.2G  0 part /media/user/rootfs
â””â”€sdb3   8:19   1     4M  0 part
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>In this case, <code class="docutils literal notranslate"><span class="pre">/dev/sdb3</span></code> is the 4MB bootloader partition.</p>
<p>Example output on target board:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>lsblk
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>NAME        MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
mmcblk0     179:0    0 29.7G  0 disk
â”œâ”€mmcblk0p1 179:1    0  256M  0 part /mnt/BOOT
â”œâ”€mmcblk0p2 179:2    0 29.2G  0 part
â””â”€mmcblk0p3 179:3    0    4M  0 part
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>In this case, <code class="docutils literal notranslate"><span class="pre">/dev/mmcblk0p3</span></code> is the 4MB bootloader partition.</p>
<hr class="docutils" />
</section>
</section>
</section>
</section>
<section id="raspberry-pi">
<span id="hardware-configuration-raspberry-pi"></span><h2>Raspberry Pi<a class="headerlink" href="#raspberry-pi" title="Link to this heading"></a></h2>
<p>Raspberry Pi images work out-of-box without configuration. The SD card
boots immediately after flashing - no setup required.</p>
<p>This section covers optional customizations you can make after your
system is running.</p>
<section id="device-tree-overlays">
<h3>Device Tree Overlays<a class="headerlink" href="#device-tree-overlays" title="Link to this heading"></a></h3>
<p>Raspberry Pi uses device tree overlays to enable additional hardware
features or configure peripherals. There are two methods to load
overlays.</p>
<section id="method-1-persistent-configuration">
<h4>Method 1: Persistent Configuration<a class="headerlink" href="#method-1-persistent-configuration" title="Link to this heading"></a></h4>
<p>Edit <code class="docutils literal notranslate"><span class="pre">/boot/config.txt</span></code> to automatically load overlays on every boot.</p>
<ol class="arabic">
<li><p>Open the configuration file and add a new line with your overlay:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dtoverlay=&lt;overlay_name&gt;[,&lt;overlay_arguments&gt;]
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dtoverlay=spi0-1cs
</pre></div>
</div>
</li>
<li><p>Save the file and reboot:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>reboot
</pre></div>
</div>
<div class="clear-left"></div></div></div></li>
</ol>
<p>Changes take effect after reboot.</p>
</section>
<section id="method-2-dynamic-loading">
<h4>Method 2: Dynamic Loading<a class="headerlink" href="#method-2-dynamic-loading" title="Link to this heading"></a></h4>
<p>Load overlays at runtime without rebooting or modifying configuration files.
Raspberry Pi package <code class="docutils literal notranslate"><span class="pre">raspi-utils-dt</span></code> needs to be installed for this method,
see <a class="reference internal" href="#hardware-configuration-dtoverlay"><span class="std std-ref">Device tree manipulation utility</span></a>.</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dtoverlay<span class="w"> </span>&lt;overlay_name&gt;<span class="o">[</span>,&lt;overlay_arguments&gt;<span class="o">]</span>
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>For example:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dtoverlay<span class="w"> </span>spi0-1cs
</pre></div>
</div>
<div class="clear-left"></div></div></div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Dynamically loaded overlays are lost on reboot. Use Method 1 for
permanent configuration.</p>
</div>
</section>
</section>
<section id="available-overlays">
<h3>Available Overlays<a class="headerlink" href="#available-overlays" title="Link to this heading"></a></h3>
<p>Overlay binaries (<code class="docutils literal notranslate"><span class="pre">*.dtbo</span></code>) are located in <code class="docutils literal notranslate"><span class="pre">/boot/overlays</span></code>.</p>
<p>To list available overlays:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>/boot/overlays/
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>rpi-ad7091r8.dtbo
rpi-ad7124-8-all-diff.dtbo
rpi-ad7124.dtbo
rpi-ad7173.dtbo
rpi-ad7190.dtbo
rpi-ad7191.dtbo
rpi-ad7293.dtbo
...
</pre></div>
</div>
<div class="clear-left"></div></div></div><div class="admonition important">
<p class="admonition-title">Important</p>
<p>Specify only the overlay name without extension or path. For example,
use <code class="docutils literal notranslate"><span class="pre">dtoverlay=my-overlay</span></code> not
<code class="docutils literal notranslate"><span class="pre">dtoverlay=/boot/overlays/my-overlay.dtbo</span></code>.</p>
</div>
</section>
<section id="device-tree-manipulation-utility">
<span id="hardware-configuration-dtoverlay"></span><h3>Device tree manipulation utility<a class="headerlink" href="#device-tree-manipulation-utility" title="Link to this heading"></a></h3>
<p>To manage the Device Tree using the <code class="docutils literal notranslate"><span class="pre">dtoverlay</span></code> command-line tool, first
enable the <a class="reference internal" href="repositories.html#repositories-rpi"><span class="std std-ref">Raspberry Pi Repository</span></a>, then install the <code class="docutils literal notranslate"><span class="pre">raspi-utils-dt</span></code>
package:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>raspi-utils-dt
</pre></div>
</div>
<div class="clear-left"></div></div><div><div class="no-select highlight-text notranslate"><div class="highlight"><pre><span></span>The following NEW packages will be installed:
 libdtovl0 raspi-utils-dt
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>The <code class="docutils literal notranslate"><span class="pre">raspi-utils-dt</span></code> package provides the <code class="docutils literal notranslate"><span class="pre">dtoverlay</span></code> command-line utility,
which uses the <code class="docutils literal notranslate"><span class="pre">libdtovl0</span></code> library to manipulate Device Tree overlays.</p>
</section>
<section id="common-overlay-use-cases">
<h3>Common Overlay Use Cases<a class="headerlink" href="#common-overlay-use-cases" title="Link to this heading"></a></h3>
<p>Here are typical scenarios for using device tree overlays:</p>
<p><strong>Enable SPI Interface</strong></p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dtoverlay<span class="w"> </span>spi0-1cs
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Or in <code class="docutils literal notranslate"><span class="pre">/boot/config.txt</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dtoverlay=spi0-1cs
</pre></div>
</div>
<p><strong>Load ADI Evaluation Board Overlay</strong></p>
<p>For ADI-specific overlays (assuming they exist in <code class="docutils literal notranslate"><span class="pre">/boot/overlays</span></code>):</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dtoverlay<span class="w"> </span>rpi-ad7191
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>Or in <code class="docutils literal notranslate"><span class="pre">/boot/config.txt</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dtoverlay=rpi-ad7191
</pre></div>
</div>
</section>
<section id="removing-overlays">
<h3>Removing Overlays<a class="headerlink" href="#removing-overlays" title="Link to this heading"></a></h3>
<p>To remove a dynamically loaded overlay:</p>
<div class="code-shell"><div><div class="no-select float-left highlight-default notranslate"><div class="highlight"><pre><span></span>~$
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>dtoverlay<span class="w"> </span>-r<span class="w"> </span>&lt;overlay_name&gt;
</pre></div>
</div>
<div class="clear-left"></div></div></div><p>For overlays in <code class="docutils literal notranslate"><span class="pre">/boot/config.txt</span></code>, comment out or delete the line and
reboot.</p>
</section>
</section>
</section>


          </div>
              <div class="related">
                &nbsp;
    <a href="use-kuiper-image.html" title="Previous document (Alt+Shift+LeftArrow)" class="prev">Using Kuiper Images</a>
    <a href="configuration.html" title="Next document (Alt+Shift+RightArrow)" class="next">Configuration</a>
              </div>
          
        </div>
      </div>
  </div>

  <label id="cancel-area-show-toc" for="input-show-toc"></label>
  <label id="cancel-area-show-localtoc" for="input-show-localtoc"></label>
    <footer>
      &#169;2025, Analog Devices, Inc.
      
      |
      Made with <a href="https://www.sphinx-doc.org/">Sphinx</a>
      &amp; <a href="https://github.com/analogdevicesinc/doctools">Doctools</a>
      
    </footer>
  </body>
</html>